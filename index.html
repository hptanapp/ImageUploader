<!DOCTYPE html>
<html>

<script src="https://www.gstatic.com/firebasejs/4.8.1/firebase.js"></script>
<script type="text/javascript" src="js/connectFirebaseAPI.js"></script>
<script type="text/javascript" src="js/imageHandler.js"></script>

<script type="text/javascript">

  var list_subkey = ["Name",
                    "Email",
                    "Date",
                    "Type"
                    ]
  var list_cardkey = ["Name",
                      "CompanyName",
                      "ServiceField",
                      "Position",
                      "Contact",
                      "Address",
                      "WorkingHour",
                      "CoverageArea",
                      "AdditionalTags"
                      ]

  function prepareUploadSubForm(){
    for (i = 0; i < list_subkey.length; i++) { 
      var mykey = list_subkey[i];
      var label = document.createElement("label");
      label.setAttribute('for', mykey);
      label.innerHTML = mykey + ":";
      var input = document.createElement("input");
      input.setAttribute('type', 'text');
      input.setAttribute('id', mykey);
      var br = document.createElement("br");
      
      var parent = document.getElementById("SubmitterInfoPlaceholder");
      parent.appendChild(label);
      parent.appendChild(input);
      parent.appendChild(br);
    }
    var thisformbutton = document.getElementById("btn_prepareUploadSubForm");
    thisformbutton.style.visibility = "hidden";
  }

  function prepareUploadCardForm(){
    for (i = 0; i < list_cardkey.length; i++) { 
      var mykey = list_cardkey[i];
      var label = document.createElement("label");
      label.setAttribute('for', mykey);
      label.innerHTML = mykey + ":";
      var input = document.createElement("input");
      input.setAttribute('type', 'text');
      input.setAttribute('id', mykey);
      var br = document.createElement("br");
      
      var parent = document.getElementById("CardInfoPlaceholder");
      parent.appendChild(label);
      parent.appendChild(input);
      parent.appendChild(br);
    }
    var thisformbutton = document.getElementById("btn_prepareUploadCardForm");
    thisformbutton.style.visibility = "hidden";
  }

  //Firebase Database Handling
  function writeUserData(userId, name, email) {
    var dbtype = "userbase";
    firebase.database().ref('users/' + userId).set({
      type: "dbtype",
      username: name,
      email: email
    });
  }

</script>

<head>
	<title>This is Title</title>
</head>
<body>
	<h1>Welcome to My App</h1>
</body>
  <h1>Upload Name Card</h1>
  <div>
    <label for="profile_pic">Choose file to upload</label>
    <input type="file" id="profile_pic" name="profile_pic"
          accept=".jpg, .jpeg, .png">
  </div>
    
    <h2>Submitter Information:</h2>
    <button class="cls_button_pre" id="btn_prepareUploadSubForm" onclick="prepareUploadSubForm()">Prepare Upload Submitter Information</button>
    <div id="SubmitterInfoPlaceholder"></div>
    
    <h2>Card Information:</h2>
    <button class="cls_button_pre" id="btn_prepareUploadCardForm" onclick="prepareUploadCardForm()">Prepare Card Information</button>
    <div id="CardInfoPlaceholder"></div>

    <br/>
    <input type="checkbox" name="vehicle" value="Car">I hereby giving information consent to this web application for items and information I have submitted.
    <br/>
    <br/>
  <div>
    <button class="cls_button1" onclick="UploadFile()">Upload</button>
  </div>

  <br/>
  <h1>Search For Name Card</h1>
  <div>
    <button class="cls_button2" onclick="showimage()">Search</button>
  </div>
  <div>
    <input type="text" id="filter" name="filter">
  </div>
  <div>
    <img id="showimage" src="" height="125px" width="200px" style="visibility: hidden;" />
  </div>
</html>